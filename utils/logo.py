import random
import sys
import time

from utils.color import RESET, COLOR_SCHEMES, BOLD


def get_gradient_line(text, colors):
    """ØªØ·Ø¨ÙŠÙ‚ ØªØ¯Ø±Ø¬ Ù„ÙˆÙ†ÙŠ Ø¹Ù„Ù‰ Ø³Ø·Ø± ÙˆØ§Ø­Ø¯"""
    result = ""
    color_count = len(colors)
    text_len = len(text)

    for i, char in enumerate(text):
        color_index = int((i / text_len) * color_count) % color_count
        result += colors[color_index] + char

    return result + RESET


def logo(animated=False):
    """Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø¨Ø£Ù„ÙˆØ§Ù† Ù…ØªØ¯Ø§Ø®Ù„Ø© ØªØªØºÙŠØ± ÙÙŠ ÙƒÙ„ Ù…Ø±Ø©"""

    # Ø§Ø®ØªÙŠØ§Ø± Ù…Ø¬Ù…ÙˆØ¹Ø© Ø£Ù„ÙˆØ§Ù† Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
    colors = random.choice(COLOR_SCHEMES)

    # Ø®Ù„Ø· Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ù„Ù„ØªÙ†ÙˆØ¹
    if random.choice([True, False]):
        colors = colors[::-1]  # Ø¹ÙƒØ³ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø£Ø­ÙŠØ§Ù†Ø§Ù‹

    logo_lines = [
        "   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—",
        "  â–ˆâ–ˆâ•”â•â•â•â•â• â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘",
        "  â–ˆâ–ˆâ•‘       â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘",
        "  â–ˆâ–ˆâ•‘        â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â•â•   â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•",
        "  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•— â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• ",
        "   â•šâ•â•â•â•â•â•    â•šâ•â•   â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•   â•šâ•â•â•â•â•â•â•   â•šâ•â•â•â•  ",
    ]

    subtitle_color = random.choice(colors)
    accent_color = random.choice([c for c in colors if c != subtitle_color])

    print("\n")

    for i, line in enumerate(logo_lines):
        # ØªØ¯Ø±Ø¬ Ù„ÙˆÙ†ÙŠ Ù…Ø®ØªÙ„Ù Ù„ÙƒÙ„ Ø³Ø·Ø±
        shifted_colors = colors[i % len(colors):] + colors[:i % len(colors)]
        colored_line = get_gradient_line(line, shifted_colors)

        if animated:
            print(colored_line)
            time.sleep(0.1)
        else:
            print(colored_line)

    print()

    # Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ±Ø¹ÙŠ
    subtitle1 = "              Safe Web Vulnerability Checker"
    subtitle2 = "                    Passive â€¢ Ethical"

    print(f"{subtitle_color}{BOLD}{subtitle1}{RESET}")
    print(f"{accent_color}{subtitle2}{RESET}")

    # Ø®Ø· ÙØ§ØµÙ„
    separator = "    " + "â•" * 50
    print(f"{colors[0]}{separator}{RESET}")
    print()


def logo_animated():
    logo(animated=True)


def logo_matrix():
    """Ù„ÙˆØ¬Ùˆ Ø¨Ø³ØªØ§ÙŠÙ„ Ù…Ø§ØªØ±ÙŠÙƒØ³ Ù…Ø¹ ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒØªØ§Ø¨Ø©"""
    matrix_green = '\033[38;5;46m'
    dark_green = '\033[38;5;22m'

    logo_lines = [
        "   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—",
        "  â–ˆâ–ˆâ•”â•â•â•â•â• â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘",
        "  â–ˆâ–ˆâ•‘       â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘",
        "  â–ˆâ–ˆâ•‘        â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•",
        "  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•— â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• ",
        "   â•šâ•â•â•â•â•â•    â•šâ•â•   â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â• â•šâ•â•â•â•â•â•â•  â•šâ•â•â•â•  ",
    ]

    print("\n")
    for line in logo_lines:
        for char in line:
            if char == 'â–ˆ':
                sys.stdout.write(f"{matrix_green}{char}")
            elif char in 'â•”â•—â•šâ•â•‘â•':
                sys.stdout.write(f"{dark_green}{char}")
            else:
                sys.stdout.write(f"{matrix_green}{char}")
            sys.stdout.flush()
            time.sleep(0.002)
        print(RESET)

    print()
    print(f"{matrix_green}{BOLD}              Safe Web Vulnerability Checker{RESET}")
    print(f"{dark_green}                    Passive â€¢ Ethical{RESET}")
    print()


if __name__ == "__main__":
    print("\n" + "=" * 60)
    print("  ğŸ¨ Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø§Ù„Ø¹Ø§Ø¯ÙŠ (Ø£Ù„ÙˆØ§Ù† Ù…Ø®ØªÙ„ÙØ© ÙƒÙ„ Ù…Ø±Ø©)")
    print("=" * 60)

    for i in range(3):
        print(f"\n--- Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø±Ù‚Ù… {i + 1} ---")
        logo()
        time.sleep(1)

    print("\n" + "=" * 60)
    print("  ğŸ’š Ù„ÙˆØ¬Ùˆ Ù…Ø§ØªØ±ÙŠÙƒØ³ (Ù…Ø¹ ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒØªØ§Ø¨Ø©)")
    print("=" * 60)
    logo_matrix()
